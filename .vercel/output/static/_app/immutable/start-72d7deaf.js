import{S as It,i as Dt,s as Nt,a as Vt,e as I,c as jt,b as B,g as Q,t as D,d as X,f as N,h as C,j as Ct,o as Pe,k as qt,l as Bt,m as Ft,n as Ue,p as G,q as Jt,r as Kt,u as Mt,v as F,w as J,x as oe,y as K,z as M,A as me}from"./chunks/index-2a8bc61d.js";import{S as He,I as W,g as Ye,f as Qe,a as Ae,b as he,s as Z,i as Xe,c as ge,P as Ze,d as Gt,e as Wt,h as zt}from"./chunks/singletons-414637a6.js";import{_ as q}from"./chunks/preload-helper-41c905a7.js";import{u as Ht}from"./chunks/parse-f0c618df.js";let et,Yt=(async()=>{function tt(n,e){return n==="/"||e==="ignore"?n:e==="never"?n.endsWith("/")?n.slice(0,-1):n:e==="always"&&!n.endsWith("/")?n+"/":n}function rt(n){return n.split("%25").map(decodeURI).join("%25")}function nt(n){for(const e in n)n[e]=decodeURIComponent(n[e]);return n}const at=["href","pathname","search","searchParams","toString","toJSON"];function ot(n,e){const r=new URL(n);for(const i of at){let s=r[i];Object.defineProperty(r,i,{get(){return e(),s},enumerable:!0,configurable:!0})}return st(r),r}function st(n){Object.defineProperty(n,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const it="/__data.json";function lt(n){return n.replace(/\/$/,"")+it}function ct(n){let e=5381;if(typeof n=="string"){let r=n.length;for(;r;)e=e*33^n.charCodeAt(--r)}else if(ArrayBuffer.isView(n)){const r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);let i=r.length;for(;i;)e=e*33^r[--i]}else throw new TypeError("value must be a string or TypedArray");return(e>>>0).toString(36)}const se=window.fetch;window.fetch=(n,e)=>((n instanceof Request?n.method:(e==null?void 0:e.method)||"GET")!=="GET"&&ee.delete(we(n)),se(n,e));const ee=new Map;function ut(n,e){const r=we(n,e),i=document.querySelector(r);if(i!=null&&i.textContent){const{body:s,...f}=JSON.parse(i.textContent),t=i.getAttribute("data-ttl");return t&&ee.set(r,{body:s,init:f,ttl:1e3*Number(t)}),Promise.resolve(new Response(s,f))}return se(n,e)}function dt(n,e,r){if(ee.size>0){const i=we(n,r),s=ee.get(i);if(s){if(performance.now()<s.ttl&&["default","force-cache","only-if-cached",void 0].includes(r==null?void 0:r.cache))return new Response(s.body,s.init);ee.delete(i)}}return se(e,r)}function we(n,e){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(n instanceof Request?n.url:n)}]`;return e!=null&&e.body&&(typeof e.body=="string"||ArrayBuffer.isView(e.body))&&(r+=`[data-hash="${ct(e.body)}"]`),r}const ft=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function pt(n){const e=[];return{pattern:n==="/"?/^\/$/:new RegExp(`^${ht(n).map(r=>{const i=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(r);if(i)return e.push({name:i[1],matcher:i[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const s=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(r);if(s)return e.push({name:s[1],matcher:s[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!r)return;const f=r.split(/\[(.+?)\](?!\])/);return"/"+f.map((t,u)=>{if(u%2){if(t.startsWith("x+"))return ye(String.fromCharCode(parseInt(t.slice(2),16)));if(t.startsWith("u+"))return ye(String.fromCharCode(...t.slice(2).split("-").map(b=>parseInt(b,16))));const d=ft.exec(t);if(!d)throw new Error(`Invalid param: ${t}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,m,w,x,T]=d;return e.push({name:x,matcher:T,optional:!!m,rest:!!w,chained:w?u===1&&f[0]==="":!1}),w?"(.*?)":m?"([^/]*)?":"([^/]+?)"}return ye(t)}).join("")}).join("")}/?$`),params:e}}function mt(n){return!/^\([^)]+\)$/.test(n)}function ht(n){return n.slice(1).split("/").filter(mt)}function gt(n,e,r){const i={},s=n.slice(1);let f="";for(let t=0;t<e.length;t+=1){const u=e[t];let d=s[t];if(u.chained&&u.rest&&f&&(d=d?f+"/"+d:f),f="",d===void 0)u.rest&&(i[u.name]="");else{if(u.matcher&&!r[u.matcher](d)){if(u.optional&&u.chained){let m=s.indexOf(void 0,t);if(m===-1){const w=e[t+1];if(w!=null&&w.rest&&w.chained)f=d;else return}for(;m>=t;)s[m]=s[m-1],m-=1;continue}return}i[u.name]=d}}if(!f)return i}function ye(n){return n.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function wt(n,e,r,i){const s=new Set(e);return Object.entries(r).map(([u,[d,m,w]])=>{const{pattern:x,params:T}=pt(u),b={id:u,exec:z=>{const U=x.exec(z);if(U)return gt(U,T,i)},errors:[1,...w||[]].map(z=>n[z]),layouts:[0,...m||[]].map(t),leaf:f(d)};return b.errors.length=b.layouts.length=Math.max(b.errors.length,b.layouts.length),b});function f(u){const d=u<0;return d&&(u=~u),[d,n[u]]}function t(u){return u===void 0?u:[s.has(u),n[u]]}}function yt(n){let e,r,i;var s=n[0][0];function f(t){return{props:{data:t[2],form:t[1]}}}return s&&(e=F(s,f(n))),{c(){e&&J(e.$$.fragment),r=I()},l(t){e&&oe(e.$$.fragment,t),r=I()},m(t,u){e&&K(e,t,u),B(t,r,u),i=!0},p(t,u){const d={};if(u&4&&(d.data=t[2]),u&2&&(d.form=t[1]),s!==(s=t[0][0])){if(e){Q();const m=e;D(m.$$.fragment,1,0,()=>{M(m,1)}),X()}s?(e=F(s,f(t)),J(e.$$.fragment),N(e.$$.fragment,1),K(e,r.parentNode,r)):e=null}else s&&e.$set(d)},i(t){i||(e&&N(e.$$.fragment,t),i=!0)},o(t){e&&D(e.$$.fragment,t),i=!1},d(t){t&&C(r),e&&M(e,t)}}}function vt(n){let e,r,i;var s=n[0][0];function f(t){return{props:{data:t[2],$$slots:{default:[Et]},$$scope:{ctx:t}}}}return s&&(e=F(s,f(n))),{c(){e&&J(e.$$.fragment),r=I()},l(t){e&&oe(e.$$.fragment,t),r=I()},m(t,u){e&&K(e,t,u),B(t,r,u),i=!0},p(t,u){const d={};if(u&4&&(d.data=t[2]),u&1051&&(d.$$scope={dirty:u,ctx:t}),s!==(s=t[0][0])){if(e){Q();const m=e;D(m.$$.fragment,1,0,()=>{M(m,1)}),X()}s?(e=F(s,f(t)),J(e.$$.fragment),N(e.$$.fragment,1),K(e,r.parentNode,r)):e=null}else s&&e.$set(d)},i(t){i||(e&&N(e.$$.fragment,t),i=!0)},o(t){e&&D(e.$$.fragment,t),i=!1},d(t){t&&C(r),e&&M(e,t)}}}function _t(n){let e,r,i;var s=n[0][1];function f(t){return{props:{data:t[3],form:t[1]}}}return s&&(e=F(s,f(n))),{c(){e&&J(e.$$.fragment),r=I()},l(t){e&&oe(e.$$.fragment,t),r=I()},m(t,u){e&&K(e,t,u),B(t,r,u),i=!0},p(t,u){const d={};if(u&8&&(d.data=t[3]),u&2&&(d.form=t[1]),s!==(s=t[0][1])){if(e){Q();const m=e;D(m.$$.fragment,1,0,()=>{M(m,1)}),X()}s?(e=F(s,f(t)),J(e.$$.fragment),N(e.$$.fragment,1),K(e,r.parentNode,r)):e=null}else s&&e.$set(d)},i(t){i||(e&&N(e.$$.fragment,t),i=!0)},o(t){e&&D(e.$$.fragment,t),i=!1},d(t){t&&C(r),e&&M(e,t)}}}function $t(n){let e,r,i;var s=n[0][1];function f(t){return{props:{data:t[3],$$slots:{default:[bt]},$$scope:{ctx:t}}}}return s&&(e=F(s,f(n))),{c(){e&&J(e.$$.fragment),r=I()},l(t){e&&oe(e.$$.fragment,t),r=I()},m(t,u){e&&K(e,t,u),B(t,r,u),i=!0},p(t,u){const d={};if(u&8&&(d.data=t[3]),u&1043&&(d.$$scope={dirty:u,ctx:t}),s!==(s=t[0][1])){if(e){Q();const m=e;D(m.$$.fragment,1,0,()=>{M(m,1)}),X()}s?(e=F(s,f(t)),J(e.$$.fragment),N(e.$$.fragment,1),K(e,r.parentNode,r)):e=null}else s&&e.$set(d)},i(t){i||(e&&N(e.$$.fragment,t),i=!0)},o(t){e&&D(e.$$.fragment,t),i=!1},d(t){t&&C(r),e&&M(e,t)}}}function bt(n){let e,r,i;var s=n[0][2];function f(t){return{props:{data:t[4],form:t[1]}}}return s&&(e=F(s,f(n))),{c(){e&&J(e.$$.fragment),r=I()},l(t){e&&oe(e.$$.fragment,t),r=I()},m(t,u){e&&K(e,t,u),B(t,r,u),i=!0},p(t,u){const d={};if(u&16&&(d.data=t[4]),u&2&&(d.form=t[1]),s!==(s=t[0][2])){if(e){Q();const m=e;D(m.$$.fragment,1,0,()=>{M(m,1)}),X()}s?(e=F(s,f(t)),J(e.$$.fragment),N(e.$$.fragment,1),K(e,r.parentNode,r)):e=null}else s&&e.$set(d)},i(t){i||(e&&N(e.$$.fragment,t),i=!0)},o(t){e&&D(e.$$.fragment,t),i=!1},d(t){t&&C(r),e&&M(e,t)}}}function Et(n){let e,r,i,s;const f=[$t,_t],t=[];function u(d,m){return d[0][2]?0:1}return e=u(n),r=t[e]=f[e](n),{c(){r.c(),i=I()},l(d){r.l(d),i=I()},m(d,m){t[e].m(d,m),B(d,i,m),s=!0},p(d,m){let w=e;e=u(d),e===w?t[e].p(d,m):(Q(),D(t[w],1,1,()=>{t[w]=null}),X(),r=t[e],r?r.p(d,m):(r=t[e]=f[e](d),r.c()),N(r,1),r.m(i.parentNode,i))},i(d){s||(N(r),s=!0)},o(d){D(r),s=!1},d(d){t[e].d(d),d&&C(i)}}}function Te(n){let e,r=n[6]&&Ie(n);return{c(){e=qt("div"),r&&r.c(),this.h()},l(i){e=Bt(i,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var s=Ft(e);r&&r.l(s),s.forEach(C),this.h()},h(){Ue(e,"id","svelte-announcer"),Ue(e,"aria-live","assertive"),Ue(e,"aria-atomic","true"),G(e,"position","absolute"),G(e,"left","0"),G(e,"top","0"),G(e,"clip","rect(0 0 0 0)"),G(e,"clip-path","inset(50%)"),G(e,"overflow","hidden"),G(e,"white-space","nowrap"),G(e,"width","1px"),G(e,"height","1px")},m(i,s){B(i,e,s),r&&r.m(e,null)},p(i,s){i[6]?r?r.p(i,s):(r=Ie(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(i){i&&C(e),r&&r.d()}}}function Ie(n){let e;return{c(){e=Jt(n[7])},l(r){e=Kt(r,n[7])},m(r,i){B(r,e,i)},p(r,i){i&128&&Mt(e,r[7])},d(r){r&&C(e)}}}function St(n){let e,r,i,s,f;const t=[vt,yt],u=[];function d(w,x){return w[0][1]?0:1}e=d(n),r=u[e]=t[e](n);let m=n[5]&&Te(n);return{c(){r.c(),i=Vt(),m&&m.c(),s=I()},l(w){r.l(w),i=jt(w),m&&m.l(w),s=I()},m(w,x){u[e].m(w,x),B(w,i,x),m&&m.m(w,x),B(w,s,x),f=!0},p(w,[x]){let T=e;e=d(w),e===T?u[e].p(w,x):(Q(),D(u[T],1,1,()=>{u[T]=null}),X(),r=u[e],r?r.p(w,x):(r=u[e]=t[e](w),r.c()),N(r,1),r.m(i.parentNode,i)),w[5]?m?m.p(w,x):(m=Te(w),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i(w){f||(N(r),f=!0)},o(w){D(r),f=!1},d(w){u[e].d(w),w&&C(i),m&&m.d(w),w&&C(s)}}}function Lt(n,e,r){let{stores:i}=e,{page:s}=e,{components:f}=e,{form:t}=e,{data_0:u=null}=e,{data_1:d=null}=e,{data_2:m=null}=e;Ct(i.page.notify);let w=!1,x=!1,T=null;return Pe(()=>{const b=i.page.subscribe(()=>{w&&(r(6,x=!0),r(7,T=document.title||"untitled page"))});return r(5,w=!0),b}),n.$$set=b=>{"stores"in b&&r(8,i=b.stores),"page"in b&&r(9,s=b.page),"components"in b&&r(0,f=b.components),"form"in b&&r(1,t=b.form),"data_0"in b&&r(2,u=b.data_0),"data_1"in b&&r(3,d=b.data_1),"data_2"in b&&r(4,m=b.data_2)},n.$$.update=()=>{n.$$.dirty&768&&i.page.set(s)},[f,t,u,d,m,w,x,T,i,s]}class xt extends It{constructor(e){super(),Dt(this,e,Lt,St,Nt,{stores:8,page:9,components:0,form:1,data_0:2,data_1:3,data_2:4})}}const Ot={},ie=[()=>q(()=>import("./chunks/0-7da66916.js"),["./chunks\\0-7da66916.js","./components\\pages\\_layout.svelte-cb40f5b9.js","./chunks\\index-2a8bc61d.js","./assets\\_layout-2773059c.css"],import.meta.url),()=>q(()=>import("./chunks/1-af4d42eb.js"),["./chunks\\1-af4d42eb.js","./components\\pages\\_error.svelte-213a22dd.js","./chunks\\index-2a8bc61d.js","./chunks\\singletons-414637a6.js","./assets\\_error-63e3d6d3.css"],import.meta.url),()=>q(()=>import("./chunks/2-2bad748f.js"),["./chunks\\2-2bad748f.js","./components\\pages\\admin\\_layout.svelte-74270ac0.js","./chunks\\index-2a8bc61d.js","./assets\\_layout-6f8b7aac.css"],import.meta.url),()=>q(()=>import("./chunks/3-6574fa7e.js"),["./chunks\\3-6574fa7e.js","./components\\pages\\auth\\_layout.svelte-6fd57d4f.js","./chunks\\index-2a8bc61d.js","./assets\\_layout-ae2e432f.css"],import.meta.url),()=>q(()=>import("./chunks/4-041e07c4.js"),["./chunks\\4-041e07c4.js","./components\\pages\\_page.svelte-92239c4b.js","./chunks\\index-2a8bc61d.js","./chunks\\Requests-e3af1178.js","./chunks\\PostCategories-1dbebac0.js","./assets\\PostCategories-b05ac89d.css","./assets\\_page-dc81b6c1.css"],import.meta.url),()=>q(()=>import("./chunks/5-ee8b388e.js"),["./chunks\\5-ee8b388e.js","./components\\pages\\admin\\_page.svelte-e07693db.js","./chunks\\index-2a8bc61d.js","./chunks\\PostCategories-1dbebac0.js","./assets\\PostCategories-b05ac89d.css","./chunks\\Requests-e3af1178.js","./chunks\\formValidation-8d80168c.js","./chunks\\Button-757541fc.js","./assets\\Button-f7c3d1e7.css","./assets\\formValidation-49717755.css","./chunks\\preload-helper-41c905a7.js","./assets\\_page-bc083dfb.css"],import.meta.url),()=>q(()=>import("./chunks/6-5e6d59cb.js"),["./chunks\\6-5e6d59cb.js","./components\\pages\\admin\\categories\\_page.svelte-1480bf75.js","./chunks\\index-2a8bc61d.js","./chunks\\Requests-e3af1178.js","./chunks\\formValidation-8d80168c.js","./chunks\\Button-757541fc.js","./assets\\Button-f7c3d1e7.css","./assets\\formValidation-49717755.css","./assets\\_page-50ba7082.css"],import.meta.url),()=>q(()=>import("./chunks/7-fd7ec6c2.js"),["./chunks\\7-fd7ec6c2.js","./components\\pages\\admin\\images\\_page.svelte-816574ca.js","./chunks\\index-2a8bc61d.js","./chunks\\Requests-e3af1178.js","./assets\\_page-1136a283.css"],import.meta.url),()=>q(()=>import("./chunks/8-751d12fb.js"),["./chunks\\8-751d12fb.js","./components\\pages\\auth\\_page.svelte-381ab4e2.js","./chunks\\index-2a8bc61d.js","./chunks\\forms-d5e0101c.js","./chunks\\parse-f0c618df.js","./chunks\\singletons-414637a6.js","./assets\\forms-026e99de.css","./chunks\\Button-757541fc.js","./assets\\Button-f7c3d1e7.css","./assets\\_page-87180a0c.css"],import.meta.url),()=>q(()=>import("./chunks/9-a903579f.js"),["./chunks\\9-a903579f.js","./components\\pages\\auth\\signup\\_page.svelte-79862200.js","./chunks\\index-2a8bc61d.js","./chunks\\forms-d5e0101c.js","./chunks\\parse-f0c618df.js","./chunks\\singletons-414637a6.js","./assets\\forms-026e99de.css","./chunks\\Button-757541fc.js","./assets\\Button-f7c3d1e7.css","./assets\\_page-87180a0c.css"],import.meta.url),()=>q(()=>import("./chunks/10-b255c131.js"),["./chunks\\10-b255c131.js","./components\\pages\\_slug_\\_page.svelte-26eb87d8.js","./chunks\\index-2a8bc61d.js","./chunks\\Requests-e3af1178.js","./assets\\_page-ca93bc82.css","./assets\\PostCategories-b05ac89d.css"],import.meta.url)],kt=[],Rt={"/":[-5],"/admin":[-6,[2]],"/admin/categories":[-7,[2]],"/admin/images":[-8,[2]],"/auth":[-9,[3]],"/auth/signup":[-10,[3]],"/[slug]":[-11]},Pt={handleError:({error:n})=>{console.error(n)}};class ve{constructor(e,r){this.status=e,typeof r=="string"?this.body={message:r}:r?this.body=r:this.body={message:`Error: ${e}`}}toString(){return JSON.stringify(this.body)}}class De{constructor(e,r){this.status=e,this.location=r}}async function Ut(n){var e;for(const r in n)if(typeof((e=n[r])==null?void 0:e.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(n).map(async([i,s])=>[i,await s])));return n}const _e=wt(ie,kt,Rt,Ot),$e=ie[0],be=ie[1];$e(),be();let te={};try{te=JSON.parse(sessionStorage[He])}catch{}function Ee(n){te[n]=ge()}function At({target:n,base:e}){var We;const r=document.documentElement,i=[];let s=null;const f={before_navigate:[],after_navigate:[]};let t={branch:[],error:null,url:null},u=!1,d=!1,m=!0,w=!1,x=!1,T=!1,b=!1,z,U=(We=history.state)==null?void 0:We[W];U||(U=Date.now(),history.replaceState({...history.state,[W]:U},"",location.href));const Le=te[U];Le&&(history.scrollRestoration="manual",scrollTo(Le.x,Le.y));let Y,Ve,le;async function je(){le=le||Promise.resolve(),await le,le=null;const a=new URL(location.href),o=de(a,!0);s=null,await qe(o,a,[])}async function xe(a,{noScroll:o=!1,replaceState:c=!1,keepFocus:l=!1,state:h={},invalidateAll:p=!1},g,v){return typeof a=="string"&&(a=new URL(a,Ye(document))),fe({url:a,scroll:o?ge():null,keepfocus:l,redirect_chain:g,details:{state:h,replaceState:c},nav_token:v,accepted:()=>{p&&(b=!0)},blocked:()=>{},type:"goto"})}async function Ce(a){const o=de(a,!1);if(!o)throw new Error(`Attempted to preload a URL that does not belong to this app: ${a}`);return s={id:o.id,promise:Je(o).then(c=>(c.type==="loaded"&&c.state.error&&(s=null),c))},s.promise}async function ce(...a){const o=_e.filter(c=>a.some(l=>c.exec(l))).map(c=>Promise.all([...c.layouts,c.leaf].map(l=>l==null?void 0:l[1]())));await Promise.all(o)}async function qe(a,o,c,l,h={},p){var v,_;Ve=h;let g=a&&await Je(a);if(g||(g=await Ge(o,{id:null},await re(new Error(`Not found: ${o.pathname}`),{url:o,params:{},route:{id:null}}),404)),o=(a==null?void 0:a.url)||o,Ve!==h)return!1;if(g.type==="redirect")if(c.length>10||c.includes(o.pathname))g=await ue({status:500,error:await re(new Error("Redirect loop"),{url:o,params:{},route:{id:null}}),url:o,route:{id:null}});else return xe(new URL(g.location,o).href,{},[...c,o.pathname],h),!1;else((_=(v=g.props)==null?void 0:v.page)==null?void 0:_.status)>=400&&await Z.updated.check()&&await pe(o);if(i.length=0,b=!1,w=!0,l&&l.details){const{details:y}=l,S=y.replaceState?0:1;y.state[W]=U+=S,history[y.replaceState?"replaceState":"pushState"](y.state,"",o)}if(s=null,d?(t=g.state,g.props.page&&(g.props.page.url=o),z.$set(g.props)):Be(g),l){const{scroll:y,keepfocus:S}=l;if(S||Se(),await me(),m){const L=o.hash&&document.getElementById(o.hash.slice(1));y?scrollTo(y.x,y.y):L?L.scrollIntoView():scrollTo(0,0)}}else await me();m=!0,g.props.page&&(Y=g.props.page),p&&p(),w=!1}function Be(a){var l;t=a.state;const o=document.querySelector("style[data-sveltekit]");o&&o.remove(),Y=a.props.page,z=new xt({target:n,props:{...a.props,stores:Z},hydrate:!0});const c={from:null,to:{params:t.params,route:{id:((l=t.route)==null?void 0:l.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter"};f.after_navigate.forEach(h=>h(c)),d=!0}async function ne({url:a,params:o,branch:c,status:l,error:h,route:p,form:g}){const v=c.filter(Boolean);let _="never";for(const O of c)(O==null?void 0:O.slash)!==void 0&&(_=O.slash);a.pathname=tt(a.pathname,_),a.search=a.search;const y={type:"loaded",state:{url:a,params:o,branch:c,error:h,route:p},props:{components:v.map(O=>O.node.component)}};g!==void 0&&(y.props.form=g);let S={},L=!Y;for(let O=0;O<v.length;O+=1){const A=v[O];S={...S,...A.data},(L||!t.branch.some($=>$===A))&&(y.props[`data_${O}`]=S,L=L||Object.keys(A.data??{}).length>0)}return L||(L=Object.keys(Y.data).length!==Object.keys(S).length),(!t.url||a.href!==t.url.href||t.error!==h||g!==void 0||L)&&(y.props.page={error:h,params:o,route:p,status:l,url:new URL(a),form:g??null,data:L?S:Y.data}),y}async function Oe({loader:a,parent:o,url:c,params:l,route:h,server_data_node:p}){var y,S,L;let g=null;const v={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},_=await a();if((y=_.universal)!=null&&y.load){let O=function(...$){for(const V of $){const{href:j}=new URL(V,c);v.dependencies.add(j)}};const A={route:{get id(){return v.route=!0,h.id}},params:new Proxy(l,{get:($,V)=>(v.params.add(V),$[V])}),data:(p==null?void 0:p.data)??null,url:ot(c,()=>{v.url=!0}),async fetch($,V){let j;$ instanceof Request?(j=$.url,V={body:$.method==="GET"||$.method==="HEAD"?void 0:await $.blob(),cache:$.cache,credentials:$.credentials,headers:$.headers,integrity:$.integrity,keepalive:$.keepalive,method:$.method,mode:$.mode,redirect:$.redirect,referrer:$.referrer,referrerPolicy:$.referrerPolicy,signal:$.signal,...V}):j=$;const E=new URL(j,c).href;return O(E),d?dt(j,E,V):ut(j,V)},setHeaders:()=>{},depends:O,parent(){return v.parent=!0,o()}};g=await _.universal.load.call(null,A)??null,g=g?await Ut(g):null}return{node:_,loader:a,server:p,universal:(S=_.universal)!=null&&S.load?{type:"data",data:g,uses:v}:null,data:g??(p==null?void 0:p.data)??null,slash:((L=_.universal)==null?void 0:L.trailingSlash)??(p==null?void 0:p.slash)}}function Fe(a,o,c,l,h){if(b)return!0;if(!l)return!1;if(l.parent&&a||l.route&&o||l.url&&c)return!0;for(const p of l.params)if(h[p]!==t.params[p])return!0;for(const p of l.dependencies)if(i.some(g=>g(new URL(p))))return!0;return!1}function ke(a,o){return(a==null?void 0:a.type)==="data"?{type:"data",data:a.data,uses:{dependencies:new Set(a.uses.dependencies??[]),params:new Set(a.uses.params??[]),parent:!!a.uses.parent,route:!!a.uses.route,url:!!a.uses.url},slash:a.slash}:(a==null?void 0:a.type)==="skip"?o??null:null}async function Je({id:a,invalidating:o,url:c,params:l,route:h}){if((s==null?void 0:s.id)===a)return s.promise;const{errors:p,layouts:g,leaf:v}=h,_=[...g,v];p.forEach(E=>E==null?void 0:E().catch(()=>{})),_.forEach(E=>E==null?void 0:E[1]().catch(()=>{}));let y=null;const S=t.url?a!==t.url.pathname+t.url.search:!1,L=t.route?a!==t.route.id:!1,O=_.reduce((E,R,P)=>{var ae;const k=t.branch[P],H=!!(R!=null&&R[0])&&((k==null?void 0:k.loader)!==R[1]||Fe(E.some(Boolean),L,S,(ae=k.server)==null?void 0:ae.uses,l));return E.push(H),E},[]);if(O.some(Boolean)){try{y=await Ne(c,O)}catch(E){return ue({status:500,error:await re(E,{url:c,params:l,route:{id:h.id}}),url:c,route:h})}if(y.type==="redirect")return y}const A=y==null?void 0:y.nodes;let $=!1;const V=_.map(async(E,R)=>{var H;if(!E)return;const P=t.branch[R],k=A==null?void 0:A[R];if((!k||k.type==="skip")&&E[1]===(P==null?void 0:P.loader)&&!Fe($,L,S,(H=P.universal)==null?void 0:H.uses,l))return P;if($=!0,(k==null?void 0:k.type)==="error")throw k;return Oe({loader:E[1],url:c,params:l,route:h,parent:async()=>{var ze;const ae={};for(let Re=0;Re<R;Re+=1)Object.assign(ae,(ze=await V[Re])==null?void 0:ze.data);return ae},server_data_node:ke(k===void 0&&E[0]?{type:"skip"}:k??null,P==null?void 0:P.server)})});for(const E of V)E.catch(()=>{});const j=[];for(let E=0;E<_.length;E+=1)if(_[E])try{j.push(await V[E])}catch(R){if(R instanceof De)return{type:"redirect",location:R.location};let P=500,k;A!=null&&A.includes(R)?(P=R.status??P,k=R.error):R instanceof ve?(P=R.status,k=R.body):k=await re(R,{params:l,url:c,route:{id:h.id}});const H=await Ke(E,j,p);return H?await ne({url:c,params:l,branch:j.slice(0,H.idx).concat(H.node),status:P,error:k,route:h}):await Ge(c,{id:h.id},k,P)}else j.push(void 0);return await ne({url:c,params:l,branch:j,status:200,error:null,route:h,form:o?void 0:null})}async function Ke(a,o,c){for(;a--;)if(c[a]){let l=a;for(;!o[l];)l-=1;try{return{idx:l+1,node:{node:await c[a](),loader:c[a],data:{},server:null,universal:null}}}catch{continue}}}async function ue({status:a,error:o,url:c,route:l}){const h={},p=await $e();let g=null;if(p.server)try{const y=await Ne(c,[!0]);if(y.type!=="data"||y.nodes[0]&&y.nodes[0].type!=="data")throw 0;g=y.nodes[0]??null}catch{(c.origin!==location.origin||c.pathname!==location.pathname||u)&&await pe(c)}const v=await Oe({loader:$e,url:c,params:h,route:l,parent:()=>Promise.resolve({}),server_data_node:ke(g)}),_={node:await be(),loader:be,universal:null,server:null,data:null};return await ne({url:c,params:h,branch:[v,_],status:a,error:o,route:null})}function de(a,o){if(Xe(a,e))return;const c=rt(a.pathname.slice(e.length)||"/");for(const l of _e){const h=l.exec(c);if(h)return{id:a.pathname+a.search,invalidating:o,route:l,params:nt(h),url:a}}}function Me({url:a,type:o,intent:c,delta:l}){var v,_;let h=!1;const p={from:{params:t.params,route:{id:((v=t.route)==null?void 0:v.id)??null},url:t.url},to:{params:(c==null?void 0:c.params)??null,route:{id:((_=c==null?void 0:c.route)==null?void 0:_.id)??null},url:a},willUnload:!c,type:o};l!==void 0&&(p.delta=l);const g={...p,cancel:()=>{h=!0}};return x||f.before_navigate.forEach(y=>y(g)),h?null:p}async function fe({url:a,scroll:o,keepfocus:c,redirect_chain:l,details:h,type:p,delta:g,nav_token:v,accepted:_,blocked:y}){const S=de(a,!1),L=Me({url:a,type:p,delta:g,intent:S});if(!L){y();return}Ee(U),_(),x=!0,d&&Z.navigating.set(L),await qe(S,a,l,{scroll:o,keepfocus:c,details:h},v,()=>{x=!1,f.after_navigate.forEach(O=>O(L)),Z.navigating.set(null)})}async function Ge(a,o,c,l){return a.origin===location.origin&&a.pathname===location.pathname&&!u?await ue({status:l,error:c,url:a,route:o}):await pe(a)}function pe(a){return location.href=a.href,new Promise(()=>{})}function Tt(){let a;r.addEventListener("mousemove",p=>{const g=p.target;clearTimeout(a),a=setTimeout(()=>{l(g,2)},20)});function o(p){l(p.composedPath()[0],1)}r.addEventListener("mousedown",o),r.addEventListener("touchstart",o,{passive:!0});const c=new IntersectionObserver(p=>{for(const g of p)g.isIntersecting&&(ce(new URL(g.target.href).pathname),c.unobserve(g.target))},{threshold:0});function l(p,g){const v=Qe(p,r);if(!v)return;const{url:_,external:y}=Ae(v,e);if(y)return;const S=he(v);S.reload||(g<=S.preload_data?Ce(_):g<=S.preload_code&&ce(_.pathname))}function h(){c.disconnect();for(const p of r.querySelectorAll("a")){const{url:g,external:v}=Ae(p,e);if(v)continue;const _=he(p);_.reload||(_.preload_code===Ze.viewport&&c.observe(p),_.preload_code===Ze.eager&&ce(g.pathname))}}f.after_navigate.push(h),h()}return{after_navigate:a=>{Pe(()=>(f.after_navigate.push(a),()=>{const o=f.after_navigate.indexOf(a);f.after_navigate.splice(o,1)}))},before_navigate:a=>{Pe(()=>(f.before_navigate.push(a),()=>{const o=f.before_navigate.indexOf(a);f.before_navigate.splice(o,1)}))},disable_scroll_handling:()=>{(w||!d)&&(m=!1)},goto:(a,o={})=>xe(a,o,[]),invalidate:a=>{if(typeof a=="function")i.push(a);else{const{href:o}=new URL(a,location.href);i.push(c=>c.href===o)}return je()},invalidateAll:()=>(b=!0,je()),preload_data:async a=>{const o=new URL(a,Ye(document));await Ce(o)},preload_code:ce,apply_action:async a=>{if(a.type==="error"){const o=new URL(location.href),{branch:c,route:l}=t;if(!l)return;const h=await Ke(t.branch.length,c,l.errors);if(h){const p=await ne({url:o,params:t.params,branch:c.slice(0,h.idx).concat(h.node),status:a.status??500,error:a.error,route:l});t=p.state,z.$set(p.props),me().then(Se)}}else if(a.type==="redirect")xe(a.location,{invalidateAll:!0},[]);else{const o={form:a.data,page:{...Y,form:a.data,status:a.status}};z.$set(o),a.type==="success"&&me().then(Se)}},_start_router:()=>{var a;history.scrollRestoration="manual",addEventListener("beforeunload",o=>{var l;let c=!1;if(!x){const h={from:{params:t.params,route:{id:((l=t.route)==null?void 0:l.id)??null},url:t.url},to:null,willUnload:!0,type:"leave",cancel:()=>c=!0};f.before_navigate.forEach(p=>p(h))}c?(o.preventDefault(),o.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){Ee(U);try{sessionStorage[He]=JSON.stringify(te)}catch{}}}),(a=navigator.connection)!=null&&a.saveData||Tt(),r.addEventListener("click",o=>{if(o.button||o.which!==1||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey||o.defaultPrevented)return;const c=Qe(o.composedPath()[0],r);if(!c)return;const{url:l,external:h,has:p}=Ae(c,e),g=he(c);if(!l||!(c instanceof SVGAElement)&&l.protocol!==location.protocol&&!(l.protocol==="https:"||l.protocol==="http:")||p.download)return;if(h||g.reload){Me({url:l,type:"link"})||o.preventDefault(),x=!0;return}const[v,_]=l.href.split("#");if(_!==void 0&&v===location.href.split("#")[0]){T=!0,Ee(U),t.url=l,Z.page.set({...Y,url:l}),Z.page.notify();return}fe({url:l,scroll:g.noscroll?ge():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:l.href===location.href},accepted:()=>o.preventDefault(),blocked:()=>o.preventDefault(),type:"link"})}),r.addEventListener("submit",o=>{var v;if(o.defaultPrevented)return;const c=HTMLFormElement.prototype.cloneNode.call(o.target),l=o.submitter;if(((l==null?void 0:l.formMethod)||c.method)!=="get")return;const h=new URL(((v=o.submitter)==null?void 0:v.hasAttribute("formaction"))&&(l==null?void 0:l.formAction)||c.action);if(Xe(h,e))return;const{noscroll:p,reload:g}=he(o.target);g||(o.preventDefault(),o.stopPropagation(),h.search=new URLSearchParams(new FormData(o.target)).toString(),fe({url:h,scroll:p?ge():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"}))}),addEventListener("popstate",o=>{var c;if((c=o.state)!=null&&c[W]){if(o.state[W]===U)return;const l=o.state[W]-U;fe({url:new URL(location.href),scroll:te[o.state[W]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{U=o.state[W]},blocked:()=>{history.go(-l)},type:"popstate",delta:l})}}),addEventListener("hashchange",()=>{T&&(T=!1,history.replaceState({...history.state,[W]:++U},"",location.href))});for(const o of document.querySelectorAll("link"))o.rel==="icon"&&(o.href=o.href);addEventListener("pageshow",o=>{o.persisted&&Z.navigating.set(null)})},_hydrate:async({status:a=200,error:o,node_ids:c,params:l,route:h,data:p,form:g})=>{u=!0;const v=new URL(location.href);({params:l={},route:h={id:null}}=de(v,!1)||{});let _;try{const y=c.map(async(S,L)=>{const O=p[L];return Oe({loader:ie[S],url:v,params:l,route:h,parent:async()=>{const A={};for(let $=0;$<L;$+=1)Object.assign(A,(await y[$]).data);return A},server_data_node:ke(O)})});_=await ne({url:v,params:l,branch:await Promise.all(y),status:a,error:o,form:g,route:_e.find(({id:S})=>S===h.id)??null})}catch(y){if(y instanceof De){await pe(new URL(y.location,location.href));return}_=await ue({status:y instanceof ve?y.status:500,error:await re(y,{url:v,params:l,route:h}),url:v,route:h})}Be(_)}}}async function Ne(n,e){var f;const r=new URL(n);r.pathname=lt(n.pathname),r.searchParams.append("x-sveltekit-invalidated",e.map(t=>t?"1":"").join("_"));const i=await se(r.href),s=await i.json();if(!i.ok)throw new Error(s);return(f=s.nodes)==null||f.forEach(t=>{(t==null?void 0:t.type)==="data"&&(t.data=Ht(t.data),t.uses={dependencies:new Set(t.uses.dependencies??[]),params:new Set(t.uses.params??[]),parent:!!t.uses.parent,route:!!t.uses.route,url:!!t.uses.url})}),s}function re(n,e){return n instanceof ve?n.body:Pt.handleError({error:n,event:e})??{message:e.route.id!=null?"Internal Error":"Not Found"}}function Se(){const n=document.querySelector("[autofocus]");if(n)n.focus();else{const e=document.body,r=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:!0}),setTimeout(()=>{var i;(i=getSelection())==null||i.removeAllRanges()}),r!==null?e.setAttribute("tabindex",r):e.removeAttribute("tabindex")}}et=async function({env:e,hydrate:r,paths:i,target:s,version:f}){Gt(i),zt(f);const t=At({target:s,base:i.base});Wt({client:t}),r?await t._hydrate(r):t.goto(location.href,{replaceState:!0}),t._start_router()}})();export{Yt as __tla,et as start};
